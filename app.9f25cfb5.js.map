{"version":3,"sources":["reference.js","app.js"],"names":["preview","original","description","refs","gallery","document","querySelector","lightBox","button","lightbox__image","createImageMarkUp","img","map","join","imageMarkup","galleryItems","onModalOpen","window","addEventListener","onModalEscClose","classList","add","onImageClick","e","preventDefault","target","nodeName","largeImg","getAttribute","setAttribute","alt","hideElement","remove","removeEventListener","src","code","onClickModalClassClose","contains","onSliderMove","galleryEl","value","indexOfEl","Number","indexOf","previousEl","nextEl","className","createElement","length","insertAdjacentHTML","onClickModalBtnClose"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACkIf,aAjIA,IAAA,EAAA,EAAA,QAAA,mBAiIA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA/HA,IAAMC,EAAQ,CACVC,QAASC,SAASC,cAAc,YAChCC,SAAUF,SAASC,cAAc,aACjCE,OAAQH,SAASC,cAAc,kCAC/BG,gBAAiBJ,SAASC,cAAc,qBAGpCF,EAA8CD,EAA9CC,QAASG,EAAqCJ,EAArCI,SAAUC,EAA2BL,EAA3BK,OAAQC,EAAmBN,EAAnBM,gBAKnC,SAASC,EAAkBC,GAClBA,OAAAA,EACJC,IAAI,SAAwC,GAArCZ,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAKpBD,MAAAA,iFAAAA,OAAAA,EAICD,6DAAAA,OAAAA,EACQC,wBAAAA,OAAAA,EACPC,iBAAAA,OAAAA,EAVP,oCAeCW,KAAK,IAGZ,IAAMC,EAAcJ,EAAkBK,EAAD,SAQrC,SAASC,IACPC,OAAOC,iBAAiB,UAAWC,GAChCZ,EAASa,UAAUC,IAAI,WAM5B,SAASC,EAAaC,GAEhBA,GADJA,EAAEC,iBACwB,QAAtBD,EAAEE,OAAOC,SAAoB,CAC/BV,IACMW,IAAAA,EAAWJ,EAAEE,OAAOG,aAAa,eACvCnB,EAAgBoB,aAAa,MAAOF,GACtClB,EAAgBqB,IAAMP,EAAEE,OAAOK,KAMjC,SAASC,IACPxB,EAASa,UAAUY,OAAO,WAC1Bf,OAAOgB,oBAAoB,UAAWd,GACpCV,EAAgByB,IAAM,GACxBzB,EAAgBqB,IAAM,GAMxB,SAASX,EAAgBI,GACR,WAAXA,EAAEY,MACJJ,IAQJ,SAASK,EAAuBb,GAC1BA,EAAEE,OAAOL,UACViB,SAAS,sBACVN,IAYJ,SAASO,EAAaf,GAChBhB,GAAAA,EAASa,UAAUiB,SAAS,WAAY,CACpCE,IAAAA,EAAYxB,EAAaH,QAAAA,IAAI,SAAA4B,GAASA,OAAAA,EAAMvC,WAC5CwC,EAAYC,OAAOH,EAAUI,QAAQlC,EAAgByB,MACrDU,EAAaH,EAAY,EACzBI,EAASJ,EAAY,EACvBlB,GAAW,cAAXA,EAAEY,KAAsB,CACtBZ,GAAAA,EAAEE,OAAOqB,YAAczC,SAAS0C,cAAc,OAAOD,UACvD,OAGEL,GAAc,IAAdA,EACF,OAEFhC,EAAgByB,IAAMK,EAAUK,GAE9BrB,GAAW,eAAXA,EAAEY,KAAuB,CACvBU,GAAAA,IAAWN,EAAUS,OACvB,OAEFvC,EAAgByB,IAAMK,EAAUM,KAlFtCzC,EAAQ6C,mBAAmB,aAAcnC,GAazCV,EAAQc,iBAAiB,QAASI,GAgClCf,EAASW,iBAAiB,QAASkB,GAWnC5B,EAAOU,iBAAiB,QAAS,SAAAgC,GAAwBnB,OAAAA,MAIzDd,OAAOC,iBAAiB,UAAWoB","file":"app.9f25cfb5.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];","// import { deepStrictEqual } from 'assert'\r\nimport galleryItems from './reference.js'\r\n\r\nconst refs  = {\r\n    gallery: document.querySelector('.gallery'),\r\n    lightBox: document.querySelector('.lightbox'),\r\n    button: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n    lightbox__image: document.querySelector('.lightbox__image'),\r\n}\r\n\r\nconst { gallery, lightBox, button, lightbox__image} = refs\r\n\r\n//  1. Создание и рендер разметки по массиву данных galleryItems \r\n// из app.js и предоставленному шаблону.\r\n\r\nfunction createImageMarkUp(img) {\r\n  return img\r\n    .map(({ preview, original, description }) => {\r\n      return `\r\n      <li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=${original}\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=${preview}\r\n      data-source=${original}\r\n      alt=\"${description}\"\r\n    />\r\n  </a>\r\n</li>\r\n    ` \r\n    }).join('')\r\n}\r\n// встявляю созданную разметку в HTML\r\nconst imageMarkup = createImageMarkUp(galleryItems)\r\ngallery.insertAdjacentHTML('afterbegin', imageMarkup)\r\n\r\n\r\n// 3. Открытие модального окна по клику на элементе галереи.\r\n\r\n// создаю фунцию открытия модального окна и \r\n// добавляю картинку большого размера\r\nfunction onModalOpen() {\r\n  window.addEventListener('keydown', onModalEscClose)\r\n     lightBox.classList.add('is-open')\r\n}\r\n\r\n\r\ngallery.addEventListener('click', onImageClick) \r\n\r\nfunction onImageClick(e) {\r\n  e.preventDefault();\r\n  if (e.target.nodeName === 'IMG') {\r\n    onModalOpen()\r\n    const largeImg = e.target.getAttribute('data-source')\r\n    lightbox__image.setAttribute('src', largeImg);\r\n  lightbox__image.alt = e.target.alt;\r\n  }\r\n}\r\n\r\n\r\n// создание функции закрытия модального окна \r\nfunction hideElement() {\r\n  lightBox.classList.remove('is-open')\r\n  window.removeEventListener('keydown', onModalEscClose);\r\n    lightbox__image.src = '';\r\n  lightbox__image.alt = '';\r\n}\r\n\r\n// Закрытие модального окна клавишей ESC\r\n// window.addEventListener('keydown', onModalEscClose)\r\n\r\nfunction onModalEscClose(e) {\r\n  if (e.code === 'Escape')\r\n    hideElement()\r\n}\r\n\r\n\r\n\r\n// Закрытие модального окна по классу .lightbox__overlay\r\nlightBox.addEventListener('click', onClickModalClassClose)\r\n\r\nfunction onClickModalClassClose(e) {\r\n  if (e.target.classList\r\n    .contains('lightbox__overlay')) {\r\n    hideElement()\r\n  }\r\n}\r\n\r\n\r\n// Закрытие модального окна по кнопке x\r\nbutton.addEventListener('click', onClickModalBtnClose => hideElement())\r\n\r\n\r\n// Сделал корявый слайдер\r\nwindow.addEventListener('keydown', onSliderMove)\r\n\r\nfunction onSliderMove(e) {\r\n  if (lightBox.classList.contains('is-open')) {\r\n    const galleryEl = galleryItems.map(value => value.original)\r\n    const indexOfEl = Number(galleryEl.indexOf(lightbox__image.src))\r\n    const previousEl = indexOfEl - 1\r\n    const nextEl = indexOfEl + 1\r\n    if (e.code === 'ArrowLeft') {\r\n      if (e.target.className === document.createElement('img').className) {\r\n        return;\r\n      }\r\n       const indexLeft = indexOfEl - 1\r\n      if (indexOfEl === 0) {\r\n        return;\r\n      }\r\n      lightbox__image.src = galleryEl[previousEl]\r\n    }\r\n    if (e.code === 'ArrowRight') {\r\n      if (nextEl === galleryEl.length) {\r\n        return;\r\n      }\r\n      lightbox__image.src = galleryEl[nextEl]\r\n    }\r\n  }\r\n}\r\n\r\n// Снимаем слушателей \r\n// if (lightBox.classList.contains('is-open')) {\r\n//   window.removeEventListener('keydown', onModalEscClose);\r\n//   lightBox.removeEventListener('click', onClickModalClassClose);\r\n//   button.removeEventListener('click', onClickModalBtnClose);\r\n//   window.addEventListener('keydown', onSliderMove)\r\n// }"]}